(()=>{var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{"use strict";e.r(t);const r=flarum.core.compat["forum/app"];var n=e.n(r);const o=flarum.core.compat["common/extend"],a=flarum.core.compat["common/utils/extractText"];var s=e.n(a);const c=flarum.core.compat["common/components/Button"];var i=e.n(c);const u=flarum.core.compat["forum/components/SettingsPage"];var l=e.n(u);n().initializers.add("clarkwinkelmann-reset-preferences",(function(){(0,o.extend)(l().prototype,"settingsItems",(function(e){var t=this;n().forum.attribute("canResetPreferences")&&e.add("resetPreferences",i().component({className:"Button",icon:"fas fa-undo",onclick:function(){if(confirm(s()(n().translator.trans("clarkwinkelmann-reset-preferences.forum.preferences.confirm")))){t.resetState="saving";var e=n().store.createRecord("users");e.pushData({id:t.user.id()}),e.exists=!0,e.save({preferences:null}).then((function(){t.resetState="done",m.redraw(),setTimeout((function(){t.resetState=null,m.redraw()}),2e3)})).catch((function(e){throw t.resetState=null,m.redraw(),e}))}},loading:"saving"===this.resetting},n().translator.trans("clarkwinkelmann-reset-preferences.forum.preferences."+("done"===this.resetState?"done":"reset"))),-500)}))}))})(),module.exports=t})();
//# sourceMappingURL=forum.js.map
(()=>{var t={n:e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return t.d(s,{a:s}),s},d:(e,s)=>{for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};(()=>{"use strict";function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},s.apply(this,arguments)}t.r(e);const a=flarum.core.compat["common/extend"],r=flarum.core.compat["forum/components/DiscussionListItem"];var o=t.n(r);const n=flarum.core.compat["tags/components/TagsPage"];var i=t.n(n);const c=flarum.core.compat["components/IndexPage"];var l=t.n(c);const u=flarum.core.compat["components/Link"];var d=t.n(u);const p=flarum.core.compat["components/LoadingIndicator"];var g=t.n(p);const f=flarum.core.compat["helpers/listItems"];var v=t.n(f);const h=flarum.core.compat["helpers/humanTime"];var T=t.n(h);const C=flarum.core.compat["tags/common/helpers/tagIcon"];var y=t.n(C);const N=flarum.core.compat["tags/common/helpers/tagLabel"];var P=t.n(N);const b=flarum.core.compat["tags/common/utils/sortTags"];var A=t.n(b),L=function(){function t(){}return t.prototype.view=function(){if(this.loading)return m(g(),null);var t=this.tags.filter((function(t){return null!==t.position()})),e=this.tags.filter((function(t){return null===t.position()}));return m("div",{className:"Asirem-TagsPage"},l().prototype.hero(),m("div",{className:"sideNavContainer container"},m("nav",{className:"TagsPage-nav IndexPage-nav sideNav"},m("ul",null,v()(l().prototype.sidebarItems().toArray()))),m("div",{className:"TagsPage-content sideNavOffset"},m("ul",{className:"Asirem-TagTiles"},t.map((function(t){var e=t.lastPostedDiscussion(),s=A()(t.children()||[]),a=y()(t,{},{useColor:!1});return a.attrs.style&&a.attrs.style.backgroundColor&&delete a.attrs.style.backgroundColor,m("li",{className:"Asirem-TagTile "+(t.color()?"colored":""),style:{"--tag-bg":t.color()}},m(d(),{className:"Asirem-TagTile-info",href:app.route.tag(t)},m("div",{className:"Asirem-TagTile-icon"},a),m("div",{className:"Asirem-TagTile-content"},m("h3",{className:"Asirem-TagTile-name"},t.name()),m("p",{className:"Asirem-TagTile-description"},t.description()),s&&s.length?m("div",{className:"Asirem-TagTile-children"},s.map((function(t){return[m(d(),{href:app.route.tag(t),className:"TagLabel"},t.name())," "]}))):"",e?m(d(),{className:"Asirem-TagTile-lastPostedDiscussion",href:app.route.discussion(e,e.lastPostNumber())},m("span",{className:"Asirem-TagTile-lastPostedDiscussion-title"},e.title()),T()(e.lastPostedAt())):m("span",{className:"Asirem-TagTile-lastPostedDiscussion"}))))}))),e.length?m("div",{className:"Asirem-TagCloud"},e.map((function(t){return[P()(t,{link:!0})," "]}))):"")))},t}();const x=flarum.core.compat["utils/string"],I=flarum.core.compat["extensions/afrux-theme-base/forum/components/Footer"];var w=t.n(I);app.initializers.add("afrux-asirem",(function(){(0,a.extend)(o().prototype,"view",(function(t){var e=t.children.find((function(t){return t&&"div"===t.tag&&t.attrs&&t.attrs.className.includes("DiscussionListItem-content")}));e.children[0]=m("div",{className:"DiscussionListItem-author-container"},[e.children[0],e.children[1]]),delete e.children[1],e.children[3]=m("div",{className:"DiscussionListItem-stats"},e.children[3]),this.attrs.discussion.tags()&&this.attrs.discussion.tags()[0]&&this.attrs.discussion.tags()[0].color()&&(t.attrs.style=s({"--tag-color":this.attrs.discussion.tags()[0].color()},t.attrs.style||{})),this.attrs.discussion.isUnread()&&(t.attrs.className+=" DiscussionListItem--unread")})),(0,a.extend)(o().prototype,"infoItems",(function(t){if(!t.has("excerpt")){var e=this.attrs.discussion.firstPost();if(e){var s=(0,x.truncate)(e.contentPlain(),175);t.add("excerpt",m("div",null,s),-100)}}})),(0,a.override)(w().prototype,"separator",(function(){return m("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1440",height:"288",className:"Asirem-footerWaves"},m("path",{"fill-opacity":"1",d:"M0,224L18.5,186.7C36.9,149,74,75,111,58.7C147.7,43,185,85,222,112C258.5,139,295,149,332,154.7C369.2,160,406,160,443,149.3C480,139,517,117,554,101.3C590.8,85,628,75,665,96C701.5,117,738,171,775,165.3C812.3,160,849,96,886,101.3C923.1,107,960,181,997,218.7C1033.8,256,1071,256,1108,250.7C1144.6,245,1182,235,1218,202.7C1255.4,171,1292,117,1329,117.3C1366.2,117,1403,171,1422,197.3L1440,224L1440,320L1421.5,320C1403.1,320,1366,320,1329,320C1292.3,320,1255,320,1218,320C1181.5,320,1145,320,1108,320C1070.8,320,1034,320,997,320C960,320,923,320,886,320C849.2,320,812,320,775,320C738.5,320,702,320,665,320C627.7,320,591,320,554,320C516.9,320,480,320,443,320C406.2,320,369,320,332,320C295.4,320,258,320,222,320C184.6,320,148,320,111,320C73.8,320,37,320,18,320L0,320Z"}))})),(0,a.override)(i().prototype,"view",L.prototype.view)}))})(),module.exports=e})();
//# sourceMappingURL=forum.js.map